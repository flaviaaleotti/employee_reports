# EMPLOYEES/REPORT DATABASE MANAGEMENT

This is a REST API written in Python to manage a database of employees and related reports
The app is ment to run locally with local databases that can easily be created via some Python scripts (see instruction below)

Requirements:
- Python 3.6 or + 
- Python modules: flask, sqlite3, requests, uuid, subprocess
- pytest for testing the app

any missing python module as well as pytest can be easily be installed with pip (e.g: pip install flask). Make sure you are using pip3 version.

The following setup instructions (as well as the launch of the Python API) are meant to be performed from a terminal.
After the app is launched and running, its functionalities can be accessed via browser (see instructions below) or via terminal (e.g. curl)

## SETUP INSTRUCTIONS

Download the repository from github:

git clone https://github.com/flaviaaleotti/employee_reports.git

and enter the employee_reports/ directory
Inside the repository, you will find two python scripts that will automatically generate two basic default SQL databases (for employees and related reports)
Genarate the employees.db and reports.db databases by running

python3 build_employees_database.py
python3 build_report_database.py

from terminal inside the employee_reports/ directory
The pre-generated databases employees.db and reports.db are already available in teh repository, but you can run the above scripts to reset the database to the starting records at anytime in the future.

Now you are ready to start the API! run from terminal

python3 RESTAPI.py

## TESTING

Before using the API through your browser, you can test it with pytest in order to assess all endpoints.
To run the tests, open another terminal (leave the API running, otherwise all tests will fail), go to the employee_reports/ directory and simply type

pytest

you can also run the above pytest command  with -v option to increase verbosity if you want to check each single endpoint test.
If all tests are successfully passed, you can open your browser and start using the API!
#### REMEMBER:  the API should be always kept running in order to use it, so make sure that you do not close the terminal where you have your 'python3  RESTAPI.py' command running :)

## USING THE API
This API is designed to help you interact with the employee.db and report.db databases. These are SQL databases, in which items are stored in tables. Each row in a table corresponds to an element (an employee or a recod in our case) and is called a record, while each column corresponds to a particular piece of information characterizing the specific record (e.g: name, surname, job tilte etc. in case of an emoloyee). The table columns are called fields.

SQL databases are conceptually simple and easy to interact with through Python flask module, that's why they were chosen for this API.

The employee items are characterized by the following fields:
- id : this is a unique identified (integer number) characterizing the employee
- first_name : first name of employee (string)
- last_name : last name of employee (string)
- username : employee username (string). The username is required to be unique.
- email: institutional email address of employee, characterized by the company.com domain (string)
- title : employee job title (string)
- department : company department (string)

In the default database, the username field is created by combining the firt letter of first name and the last name (e.g., employee Mario Rossi would have username mrossi), but this is not mandatory and you can crate new employees with whatever username (as long as the uniqueness is preserved).
In the default database, the department field is a capital single letter ('A', 'B', 'C'...), but any other string will be accepted upon creation of a new employee. The same holds for all other string fields (except username, see above).

The id identifier, instead, is automatically generated by te database whenever a new employee is added. The employee id field is immutable and cannot be modified.

The report items are characterized by the following fields:
- id : this is a unique identified (integer number) characterizing the report
- title : report title (string)
- description : report description (string)
- employee_username : username (string) of the employee related to the report.
- priority: report priority (string, either 'high' or 'low')






